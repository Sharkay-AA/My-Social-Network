{"version":3,"sources":["components/AppContext.js","components/LeftNav.js","components/Utils.js","actions/post.actions.js","components/Post/NewPostForm.js","actions/user.actions.js","components/Profil/FollowHandler.js","components/Post/LikeButton.js","components/Post/DeleteCard.js","components/Post/EditDeleteComment.js","components/Post/CardComments.js","components/Post/Card.js","components/Thread.js","components/Log/SignInForm.js","components/Log/SignUpForm.js","components/Log/index.js","components/Trends.js","components/Profil/FriendsHint.js","pages/Home.js","components/Profil/UploadImg.js","components/Profil/UpdateProfil.js","pages/Profil.js","pages/Trending.js","components/Log/Logout.js","components/Navbar.js","components/Routes/index.js","App.js","reducers/user.reducer.js","actions/users.actions.js","reducers/users.reducer.js","reducers/post.reducer.js","reducers/error.reducer.js","reducers/allPosts.reducer.js","reducers/trending.reducer.js","reducers/index.js","index.js"],"names":["UidContext","createContext","LeftNav","className","to","exact","activeClassName","src","alt","dateParser","num","timestamp","Date","parse","toLocaleDateString","hour","minute","second","weekday","year","month","day","toString","timestampParser","isEmpty","value","undefined","Object","keys","length","trim","GET_POSTS","GET_ALL_POSTS","LIKE_POST","UNLIKE_POST","UPDATE_POST","DELETE_POST","EDIT_COMMENT","DELETE_COMMENT","GET_TRENDS","GET_POST_ERRORS","getPosts","dispatch","axios","get","process","then","res","array","data","slice","type","payload","catch","err","console","log","addPost","post","errors","NewPostForm","useState","isLoading","setIsLoading","message","setMessage","postPicture","setPostPicture","video","setVideo","file","setFile","userData","useSelector","state","userReducer","error","errorReducer","postError","useDispatch","handlePost","a","FormData","append","_id","cancelPost","alert","useEffect","findLink","split","i","includes","embed","replace","splice","join","handleVideo","following","followers","picture","name","id","placeholder","onChange","e","target","pseudo","now","frameBorder","allow","allowFullScreen","title","accept","URL","createObjectURL","files","handlePicture","onClick","format","maxSize","GET_USER","UPLOAD_PICTURE","UPDATE_BIO","FOLLOW_USER","UNFOLLOW_USER","GET_USER_ERRORS","FollowHandler","idToFollow","isFollowed","setIsFollowed","followerId","idToUnfollow","method","url","followUser","LikeButton","liked","setLiked","uid","useContext","likers","trigger","position","closeOnDocumentClick","postId","userId","DeleteCard","props","deleteQuote","window","confirm","EditDeleteComment","comment","isAuthor","setIsAuthor","edit","setEdit","text","setText","handleDelete","commentId","deleteComment","commenterId","action","onSubmit","preventDefault","editComment","htmlFor","defaultValue","CardComments","usersData","usersReducer","comments","map","user","commenterPseudo","addComment","Card","isUpdated","setIsUpdated","textUpdate","setTextUpdate","showComments","setShowComments","posterId","createdAt","width","height","Thread","loadPost","setLoadPost","count","setCount","posts","postReducer","loadMore","innerHeight","document","documentElement","scrollTop","scrollingElement","scrollHeight","addEventListener","removeEventListener","SignInForm","email","setEmail","password","setPassword","emailError","querySelector","passwordError","innerHTML","localStorage","setItem","token","location","SignUpForm","formSubmit","setFormSubmit","setPseudo","controlPassword","setControlPassword","handleRegister","terms","getElementById","pseudoError","passwordConfirmError","termsError","checked","href","rel","Log","signup","signUpModal","setSignUpModal","signin","signInModal","setSignInModal","handleModals","Trends","allPostsReducer","trendList","trendingReducer","sortedArray","sort","b","getTrends","FriendsHint","playOnce","setPlayOnce","friendsHint","setFriendsHint","push","Math","random","notFriendList","Home","UploadImg","uploadPicture","UpdateProfil","bio","setBio","updateForm","setUpdateForm","userError","followingPopup","setFollowingPopup","followersPopup","setFollowersPopup","updateBio","Profil","Trending","Logout","removeItem","Navbar","index","path","element","App","setUid","headers","Cookies","getItem","fetchToken","getUser","Provider","Routes","initialState","GET_USERS","combineReducers","filter","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render","StrictMode","basename"],"mappings":"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","file":"static/js/main.ff98a60a.chunk.js","sourcesContent":["import { createContext } from 'react';\n\nexport const UidContext = createContext();","import React from 'react';\nimport { NavLink } from 'react-router-dom';\n\nconst LeftNav = () => {\n  return (\n    <div className=\"left-nav-container\">\n      <div className=\"icons\">\n        <div className=\"icons-bis\">\n          <NavLink to='/' exact activeClassName=\"active-left-nav\">\n            <img src=\"./img/icons/home.svg\" alt=\"home\"/>\n          </NavLink>\n          <br/>\n          <NavLink to='/trending' exact activeClassName=\"active-left-nav\">\n            <img src=\"./img/icons/rocket.svg\" alt=\"home\"/>\n          </NavLink>\n          <br/>\n          <NavLink to='/profil' exact activeClassName=\"active-left-nav\">\n            <img src=\"./img/icons/user.svg\" alt=\"home\"/>\n          </NavLink>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default LeftNav;","export const dateParser = (num) => {\n  let options = {\n    hour: \"2-digit\",\n    minute: \"2-digit\",\n    second: \"2-digit\",\n    weekday: \"long\",\n    year: \"numeric\",\n    month: \"short\",\n    day: \"numeric\",\n  };\n\n  let timestamp = Date.parse(num);\n\n  let date = new Date(timestamp).toLocaleDateString(\"fr-FR\", options);\n\n  return date.toString();\n};\n\nexport const timestampParser = (num) => {\n  let options = {\n    hour: \"2-digit\",\n    minute: \"2-digit\",\n    second: \"2-digit\",\n    weekday: \"long\",\n    year: \"numeric\",\n    month: \"short\",\n    day: \"numeric\",\n  };\n\n  let date = new Date(num).toLocaleDateString(\"fr-FR\", options);\n\n  return date.toString();\n}\n\nexport const isEmpty = (value) => {\n  return (\n    value === undefined ||\n    value === null ||\n    (typeof value === \"object\" && Object.keys(value).length === 0) ||\n    (typeof value === \"string\" && value.trim().length === 0)\n  );\n};\n","import axios from \"axios\";\n\n// posts\nexport const GET_POSTS = \"GET_POSTS\";\nexport const GET_ALL_POSTS = \"GET_ALL_POSTS\";\nexport const ADD_POST = \"ADD_POST\";\nexport const LIKE_POST = \"LIKE_POST\";\nexport const UNLIKE_POST = \"UNLIKE_POST\";\nexport const UPDATE_POST = \"UPDATE_POST\";\nexport const DELETE_POST = \"DELETE_POST\";\n\n// comments\nexport const ADD_COMMENT = \"ADD_COMMENT\";\nexport const EDIT_COMMENT = \"EDIT_COMMENT\";\nexport const DELETE_COMMENT = \"DELETE_COMMENT\";\n\n// trends\nexport const GET_TRENDS = \"GET_TRENDS\";\n\n// errors\nexport const GET_POST_ERRORS = \"GET_POST_ERRORS\";\n\nexport const getPosts = (num) => {\n  return (dispatch) => {\n    return axios\n      .get(`${process.env.REACT_APP_API_URL}api/post/`)\n      .then((res) => {\n        const array = res.data.slice(0, num);\n        dispatch({ type: GET_POSTS, payload: array });\n        dispatch({ type: GET_ALL_POSTS, payload: res.data });\n      })\n      .catch((err) => console.log(err));\n  };\n};\n\nexport const addPost = (data) => {\n  return (dispatch) => {\n    return axios\n      .post(`${process.env.REACT_APP_API_URL}api/post/`, data)\n      .then((res) => {\n        if (res.data.errors) {\n          dispatch({ type: GET_POST_ERRORS, payload: res.data.errors });\n        } else {\n          dispatch({ type: GET_POST_ERRORS, payload: \"\" });\n        }\n      });\n  };\n};\n\nexport const likePost = (postId, userId) => {\n  return (dispatch) => {\n    return axios({\n      method: \"patch\",\n      url: `${process.env.REACT_APP_API_URL}api/post/like-post/` + postId,\n      data: { id: userId },\n    })\n      .then((res) => {\n        dispatch({ type: LIKE_POST, payload: { postId, userId } });\n      })\n      .catch((err) => console.log(err));\n  };\n};\n\nexport const unlikePost = (postId, userId) => {\n  return (dispatch) => {\n    return axios({\n      method: \"patch\",\n      url: `${process.env.REACT_APP_API_URL}api/post/unlike-post/` + postId,\n      data: { id: userId },\n    })\n      .then((res) => {\n        dispatch({ type: UNLIKE_POST, payload: { postId, userId } });\n      })\n      .catch((err) => console.log(err));\n  };\n};\n\nexport const updatePost = (postId, message) => {\n  return (dispatch) => {\n    return axios({\n      method: \"put\",\n      url: `${process.env.REACT_APP_API_URL}api/post/${postId}`,\n      data: { message },\n    })\n      .then((res) => {\n        dispatch({ type: UPDATE_POST, payload: { message, postId } });\n      })\n      .catch((err) => console.log(err));\n  };\n};\n\nexport const deletePost = (postId) => {\n  return (dispatch) => {\n    return axios({\n      method: \"delete\",\n      url: `${process.env.REACT_APP_API_URL}api/post/${postId}`,\n    })\n      .then((res) => {\n        dispatch({ type: DELETE_POST, payload: { postId } });\n      })\n      .catch((err) => console.log(err));\n  };\n};\n\nexport const addComment = (postId, commenterId, text, commenterPseudo) => {\n  return (dispatch) => {\n    return axios({\n      method: \"patch\",\n      url: `${process.env.REACT_APP_API_URL}api/post/comment-post/${postId}`,\n      data: { commenterId, text, commenterPseudo },\n    })\n      .then((res) => {\n        dispatch({ type: ADD_COMMENT, payload: { postId } });\n      })\n      .catch((err) => console.log(err));\n  };\n};\n\nexport const editComment = (postId, commentId, text) => {\n  return (dispatch) => {\n    return axios({\n      method: \"patch\",\n      url: `${process.env.REACT_APP_API_URL}api/post/edit-comment-post/${postId}`,\n      data: { commentId, text },\n    })\n      .then((res) => {\n        dispatch({ type: EDIT_COMMENT, payload: { postId, commentId, text } });\n      })\n      .catch((err) => console.log(err));\n  };\n};\n\nexport const deleteComment = (postId, commentId) => {\n  return (dispatch) => {\n    return axios({\n      method: \"patch\",\n      url: `${process.env.REACT_APP_API_URL}api/post/delete-comment-post/${postId}`,\n      data: { commentId },\n    })\n      .then((res) => {\n        dispatch({ type: DELETE_COMMENT, payload: { postId, commentId } });\n      })\n      .catch((err) => console.log(err));\n  };\n};\n\nexport const getTrends = (sortedArray) => {\n  return (dispatch) => {\n    dispatch({ type: GET_TRENDS, payload: sortedArray });\n  };\n};\n","import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { isEmpty, timestampParser } from \"../Utils\";\nimport { NavLink } from \"react-router-dom\";\nimport { addPost, getPosts } from \"../../actions/post.actions\";\n\nconst NewPostForm = () => {\n  const [isLoading, setIsLoading] = useState(true);\n  const [message, setMessage] = useState(\"\");\n  const [postPicture, setPostPicture] = useState(null);\n  const [video, setVideo] = useState(\"\");\n  const [file, setFile] = useState();\n  const userData = useSelector((state) => state.userReducer);\n  const error = useSelector((state) => state.errorReducer.postError);\n  const dispatch = useDispatch();\n  \n  const handlePost = async () => {\n    if (message || postPicture || video) {\n      const data = new FormData();\n      data.append('posterId', userData._id);\n      data.append('message', message);\n      if (file) data.append(\"file\", file);\n      data.append('video', video);\n\n      await dispatch(addPost(data));\n      dispatch(getPosts());\n      cancelPost();\n    } else {\n      alert(\"Veuillez entrer un message\")\n    }\n  };\n \n  const handlePicture = (e) => {\n    setPostPicture(URL.createObjectURL(e.target.files[0]));\n    setFile(e.target.files[0]);\n    setVideo('');\n  }; \n\n  const cancelPost = () => {\n    setMessage(\"\");\n    setPostPicture(\"\");\n    setVideo(\"\");\n    setFile(\"\");\n  };\n\n\n  useEffect(() => {\n    if (!isEmpty(userData)) setIsLoading(false);\n\n    const handleVideo = () => {\n      let findLink = message.split(\" \");\n      for (let i = 0; i < findLink.length; i++) {\n        if (\n          findLink[i].includes(\"https://www.yout\") ||\n          findLink[i].includes(\"https://yout\")\n        ) {\n          let embed = findLink[i].replace(\"watch?v=\", \"embed/\");\n          setVideo(embed.split(\"&\")[0]);\n          findLink.splice(i, 1);\n          setMessage(findLink.join(\" \"));\n          setPostPicture('');\n        }\n      }\n    };\n    handleVideo();\n  }, [userData, message, video]);\n\n  return (\n    <div className=\"post-container\">\n      {isLoading ? (\n        <i className=\"fas fa-spinner fa-pulse\"></i>\n      ) : (\n        <>\n          <div className=\"data\">\n            <p>\n              <span>{userData.following ? userData.following.length : 0}</span>{\" \"}\n              Abonnement\n              {userData.following && userData.following.length > 1 ? \"s\" : null}\n            </p>\n            <p>\n              <span>{userData.followers ? userData.followers.length : 0}</span>{\" \"}\n              Abonné\n              {userData.followers && userData.followers.length > 1 ? \"s\" : null}\n            </p>\n          </div>\n          <NavLink exact to=\"/profil\">\n            <div className=\"user-info\">\n              <img src={userData.picture} alt=\"user-img\" />\n            </div>\n          </NavLink>\n          <div className=\"post-form\">\n            <textarea\n              name=\"message\"\n              id=\"message\"\n              placeholder=\"Quoi de neuf ?\"\n              onChange={(e) => setMessage(e.target.value)}\n              value={message}\n            />\n            {message || postPicture || video.length > 20 ? (\n              <li className=\"card-container\">\n                <div className=\"card-left\">\n                  <img src={userData.picture} alt=\"user-pic\" />\n                </div>\n                <div className=\"card-right\">\n                  <div className=\"card-header\">\n                    <div className=\"pseudo\">\n                      <h3>{userData.pseudo}</h3>\n                    </div>\n                    <span>{timestampParser(Date.now())}</span>\n                  </div>\n                  <div className=\"content\">\n                    <p>{message}</p>\n                    <img src={postPicture} alt=\"\" />\n                    {video && (\n                      <iframe\n                        src={video}\n                        frameBorder=\"0\"\n                        allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n                        allowFullScreen\n                        title={video}\n                      ></iframe>\n                    )}\n                  </div>\n                </div>\n              </li>\n            ) : null}\n            <div className=\"footer-form\">\n              <div className=\"icon\">\n                {isEmpty(video) && (\n                  <>\n                    <img src=\"./img/icons/picture.svg\" alt=\"img\" />\n                    <input\n                      type=\"file\"\n                      id=\"file-upload\"\n                      name=\"file\"\n                      accept=\".jpg, .jpeg, .png\"\n                      onChange={(e) => handlePicture(e)}\n                    />\n                  </>\n                )}\n                {video && (\n                  <button onClick={() => setVideo(\"\")}>Supprimer video</button>\n                )}\n              </div>\n              {!isEmpty(error.format) && <p>{error.format}</p>}\n              {!isEmpty(error.maxSize) && <p>{error.maxSize}</p>}\n              <div className=\"btn-send\">\n                {message || postPicture || video.length > 20 ? (\n                  <button className=\"cancel\" onClick={cancelPost}>\n                    Annuler message\n                  </button>\n                ) : null}\n                <button className=\"send\" onClick={handlePost}>\n                  Envoyer\n                </button>\n              </div>\n            </div>\n          </div>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default NewPostForm;\n","import axios from \"axios\";\n\nexport const GET_USER = \"GET_USER\";\nexport const UPLOAD_PICTURE = \"UPLOAD_PICTURE\";\nexport const UPDATE_BIO = \"UPDATE_BIO\";\nexport const FOLLOW_USER = \"FOLLOW_USER\";\nexport const UNFOLLOW_USER = \"UNFOLLOW_USER\";\n\nexport const GET_USER_ERRORS = \"GET_USER_ERRORS\";\n\nexport const getUser = (uid) => {\n  return (dispatch) => {\n    return axios\n      .get(`${process.env.REACT_APP_API_URL}api/user/${uid}`)\n      .then((res) => {\n        dispatch({ type: GET_USER, payload: res.data });\n      })\n      .catch((err) => console.log(err));\n  };\n};\n\nexport const uploadPicture = (data, id) => {\n  return (dispatch) => {\n    return axios\n      .post(`${process.env.REACT_APP_API_URL}api/user/upload`, data)\n      .then((res) => {\n        if (res.data.errors) {\n          dispatch({ type: GET_USER_ERRORS, payload: res.data.errors });\n        } else {\n          dispatch({ type: GET_USER_ERRORS, payload: \"\" });\n          return axios\n            .get(`${process.env.REACT_APP_API_URL}api/user/${id}`)\n            .then((res) => {\n              dispatch({ type: UPLOAD_PICTURE, payload: res.data.picture });\n            });\n        }\n      })\n      .catch((err) => console.log(err));\n  };\n};\n\nexport const updateBio = (userId, bio) => {\n  return (dispatch) => {\n    return axios({\n      method: \"put\",\n      url: `${process.env.REACT_APP_API_URL}api/user/` + userId,\n      data: { bio },\n    })\n      .then((res) => {\n        dispatch({ type: UPDATE_BIO, payload: bio });\n      })\n      .catch((err) => console.log(err));\n  };\n};\n\nexport const followUser = (followerId, idToFollow) => {\n  return (dispatch) => {\n    return axios({\n      method: \"patch\",\n      url: `${process.env.REACT_APP_API_URL}api/user/follow/` + followerId,\n      data: { idToFollow },\n    })\n      .then((res) => {\n        dispatch({ type: FOLLOW_USER, payload: { idToFollow } });\n      })\n      .catch((err) => console.log(err));\n  };\n};\n\nexport const unfollowUser = (followerId, idToUnfollow) => {\n  return (dispatch) => {\n    return axios({\n      method: \"patch\",\n      url: `${process.env.REACT_APP_API_URL}api/user/unfollow/` + followerId,\n      data: { idToUnfollow },\n    })\n      .then((res) => {\n        dispatch({ type: UNFOLLOW_USER, payload: { idToUnfollow } });\n      })\n      .catch((err) => console.log(err));\n  };\n};\n","import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { followUser, unfollowUser } from \"../../actions/user.actions\";\nimport { isEmpty } from \"../Utils\";\n\nconst FollowHandler = ({ idToFollow, type }) => {\n  const userData = useSelector((state) => state.userReducer);\n  const [isFollowed, setIsFollowed] = useState(false);\n  const dispatch = useDispatch();\n\n  const handleFollow = () => {\n    dispatch(followUser(userData._id, idToFollow));\n    setIsFollowed(true);\n  };\n\n  const handleUnfollow = () => {\n    dispatch(unfollowUser(userData._id, idToFollow));\n    setIsFollowed(false);\n  };\n\n  useEffect(() => {\n    if (!isEmpty(userData.following)) {\n      if (userData.following.includes(idToFollow)) {\n        setIsFollowed(true);\n      } else setIsFollowed(false);\n    }\n  }, [userData, idToFollow]);\n\n  return (\n    <>\n      {isFollowed && !isEmpty(userData) && (\n        <span onClick={handleUnfollow}>\n          {type === \"suggestion\" && <button className=\"unfollow-btn\">Abonné</button>}\n          {type === \"card\" && <img src=\"./img/icons/checked.svg\" alt=\"checked\"/>}\n        </span>\n      )}\n      {isFollowed === false && !isEmpty(userData) && (\n        <span onClick={handleFollow}>\n          {type === \"suggestion\" && <button className=\"follow-btn\">Suivre</button>}\n          {type === \"card\" && <img src=\"./img/icons/check.svg\" alt=\"check\"/>}\n        </span>\n      )}\n    </>\n  );\n};\n\nexport default FollowHandler;\n","import React, { useContext, useEffect, useState } from \"react\";\nimport { UidContext } from \"../AppContext\";\nimport Popup from \"reactjs-popup\";\nimport \"reactjs-popup/dist/index.css\";\nimport { useDispatch } from \"react-redux\";\nimport { likePost, unlikePost } from \"../../actions/post.actions\";\n\nconst LikeButton = ({ post }) => {\n  const [liked, setLiked] = useState(false);\n  const uid = useContext(UidContext);\n  const dispatch = useDispatch();\n\n  const like = () => {\n    dispatch(likePost(post._id, uid))\n    setLiked(true);\n  };\n\n  const unlike = () => {\n    dispatch(unlikePost(post._id, uid))\n    setLiked(false);\n  };\n\n  useEffect(() => {\n    if (post.likers.includes(uid)) setLiked(true);\n    else setLiked(false);\n  }, [uid, post.likers, liked]);\n\n  return (\n    <div className=\"like-container\">\n      {uid === null && (\n        <Popup\n          trigger={<img src=\"./img/icons/heart.svg\" alt=\"like\" />}\n          position={[\"bottom center\", \"bottom right\", \"bottom left\"]}\n          closeOnDocumentClick\n        >\n          <div>Connectez-vous pour aimer un post !</div>\n        </Popup>\n      )}\n      {uid && liked === false && (\n        <img src=\"./img/icons/heart.svg\" onClick={like} alt=\"like\" />\n      )}\n      {uid && liked && (\n        <img src=\"./img/icons/heart-filled.svg\" onClick={unlike} alt=\"unlike\" />\n      )}\n      <span>{post.likers.length}</span>\n    </div>\n  );\n};\n\nexport default LikeButton;\n","import React from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { deletePost } from \"../../actions/post.actions\";\n\nconst DeleteCard = (props) => {\n  const dispatch = useDispatch();\n\n  const deleteQuote = () => dispatch(deletePost(props.id));\n\n  return (\n    <div\n      onClick={() => {\n        if (window.confirm(\"Voulez-vous supprimer cet article ?\")) {\n          deleteQuote();\n        }\n      }}\n    >\n      <img src=\"./img/icons/trash.svg\" alt=\"trash\" />\n    </div>\n  );\n};\n\nexport default DeleteCard;\n","import React, { useContext, useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { deleteComment, editComment } from \"../../actions/post.actions\";\nimport { UidContext } from \"../AppContext\";\n\nconst EditDeleteComment = ({ comment, postId }) => {\n  const [isAuthor, setIsAuthor] = useState(false);\n  const [edit, setEdit] = useState(false);\n  const [text, setText] = useState(\"\");\n  const uid = useContext(UidContext);\n  const dispatch = useDispatch();\n\n  const handleEdit = (e) => {\n    e.preventDefault();\n\n    if (text) {\n      dispatch(editComment(postId, comment._id, text));\n      setText(\"\");\n      setEdit(false);\n    }\n  };\n\n  const handleDelete = () => dispatch(deleteComment(postId, comment._id));\n\n  useEffect(() => {\n    const checkAuthor = () => {\n      if (uid === comment.commenterId) {\n        setIsAuthor(true);\n      }\n    };\n    checkAuthor();\n  }, [uid, comment.commenterId]);\n\n  return (\n    <div className=\"edit-comment\">\n      {isAuthor && edit === false && (\n        <span onClick={() => setEdit(!edit)}>\n          <img src=\"./img/icons/edit.svg\" alt=\"edit-comment\" />\n        </span>\n      )}\n      {isAuthor && edit && (\n        <form action=\"\" onSubmit={handleEdit} className=\"edit-comment-form\">\n          <label htmlFor=\"text\" onClick={() => setEdit(!edit)}>\n            Editer\n          </label>\n          <br />\n          <input\n            type=\"text\"\n            name=\"text\"\n            onChange={(e) => setText(e.target.value)}\n            defaultValue={comment.text}\n          />\n          <br />\n          <div className=\"btn\">\n            <span\n              onClick={() => {\n                if (window.confirm(\"Voulez-vous supprimer ce commentaire ?\")) {\n                  handleDelete();\n                }\n              }}\n            >\n              <img src=\"./img/icons/trash.svg\" alt=\"delete\" />\n            </span>\n            <input type=\"submit\" value=\"Valider modification\" />\n          </div>\n        </form>\n      )}\n    </div>\n  );\n};\n\nexport default EditDeleteComment;\n","import React, { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { addComment, getPosts } from \"../../actions/post.actions\";\nimport FollowHandler from \"../Profil/FollowHandler\";\nimport { isEmpty, timestampParser } from \"../Utils\";\nimport EditDeleteComment from \"./EditDeleteComment\";\n\nconst CardComments = ({ post }) => {\n  const [text, setText] = useState(\"\");\n  const usersData = useSelector((state) => state.usersReducer);\n  const userData = useSelector((state) => state.userReducer);\n  const dispatch = useDispatch();\n\n  const handleComment = (e) => {\n    e.preventDefault();\n\n    if (text) {\n      dispatch(addComment(post._id, userData._id, text, userData.pseudo))\n        .then(() => dispatch(getPosts()))\n        .then(() => setText(''));\n    }\n  };\n\n  return (\n    <div className=\"comments-container\">\n      {post.comments.map((comment) => {\n        return (\n          <div\n            className={\n              comment.commenterId === userData._id\n                ? \"comment-container client\"\n                : \"comment-container\"\n            }\n            key={comment._id}\n          >\n            <div className=\"left-part\">\n              <img\n                src={\n                  !isEmpty(usersData[0]) &&\n                  usersData\n                    .map((user) => {\n                      if (user._id === comment.commenterId) return user.picture;\n                      else return null;\n                    })\n                    .join(\"\")\n                }\n                alt=\"commenter-pic\"\n              />\n            </div>\n            <div className=\"right-part\">\n              <div className=\"comment-header\">\n                <div className=\"pseudo\">\n                  <h3>{comment.commenterPseudo}</h3>\n                  {comment.commenterId !== userData._id && (\n                    <FollowHandler\n                      idToFollow={comment.commenterId}\n                      type={\"card\"}\n                    />\n                  )}\n                </div>\n                <span>{timestampParser(comment.timestamp)}</span>\n              </div>\n              <p>{comment.text}</p>\n              <EditDeleteComment comment={comment} postId={post._id} />\n            </div>\n          </div>\n        );\n      })}\n      {userData._id && (\n        <form action=\"\" onSubmit={handleComment} className=\"comment-form\">\n          <input\n            type=\"text\"\n            name=\"text\"\n            onChange={(e) => setText(e.target.value)}\n            value={text}\n            placeholder=\"Laisser un commentaire\"\n          />\n          <br />\n          <input type=\"submit\" value=\"Envoyer\" />\n        </form>\n      )}\n    </div>\n  );\n};\n\nexport default CardComments;\n","import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { dateParser, isEmpty } from \"../Utils\";\nimport FollowHandler from \"../Profil/FollowHandler\";\nimport LikeButton from \"./LikeButton\";\nimport { updatePost } from \"../../actions/post.actions\";\nimport DeleteCard from \"./DeleteCard\";\nimport CardComments from \"./CardComments\";\n\nconst Card = ({ post }) => {\n  const [isLoading, setIsLoading] = useState(true);\n  const [isUpdated, setIsUpdated] = useState(false);\n  const [textUpdate, setTextUpdate] = useState(null);\n  const [showComments, setShowComments] = useState(false);\n  const usersData = useSelector((state) => state.usersReducer);\n  const userData = useSelector((state) => state.userReducer);\n  const dispatch = useDispatch();\n\n  const updateItem = () => {\n    if (textUpdate) {\n      dispatch(updatePost(post._id, textUpdate));\n    }\n    setIsUpdated(false);\n  };\n\n  useEffect(() => {\n    !isEmpty(usersData[0]) && setIsLoading(false);\n  }, [usersData]);\n\n  return (\n    <li className=\"card-container\" key={post._id}>\n      {isLoading ? (\n        <i className=\"fas fa-spinner fa-spin\"></i>\n      ) : (\n        <>\n          <div className=\"card-left\">\n            <img\n              src={\n                !isEmpty(usersData[0]) &&\n                usersData\n                  .map((user) => {\n                    if (user._id === post.posterId) return user.picture;\n                    else return null;\n                  })\n                  .join(\"\")\n              }\n              alt=\"poster-pic\"\n            />\n          </div>\n          <div className=\"card-right\">\n            <div className=\"card-header\">\n              <div className=\"pseudo\">\n                <h3>\n                  {!isEmpty(usersData[0]) &&\n                    usersData\n                      .map((user) => {\n                        if (user._id === post.posterId) return user.pseudo;\n                        else return null;\n                      })\n                      .join(\"\")}\n                </h3>\n                {post.posterId !== userData._id && (\n                  <FollowHandler idToFollow={post.posterId} type={\"card\"} />\n                )}\n              </div>\n              <span>{dateParser(post.createdAt)}</span>\n            </div>\n            {isUpdated === false && <p>{post.message}</p>}\n            {isUpdated && (\n              <div className=\"update-post\">\n                <textarea\n                  defaultValue={post.message}\n                  onChange={(e) => setTextUpdate(e.target.value)}\n                />\n                <div className=\"button-container\">\n                  <button className=\"btn\" onClick={updateItem}>\n                    Valider modification\n                  </button>\n                </div>\n              </div>\n            )}\n            {post.picture && (\n              <img src={post.picture} alt=\"card-pic\" className=\"card-pic\" />\n            )}\n            {post.video && (\n              <iframe\n                width=\"500\"\n                height=\"300\"\n                src={post.video}\n                frameBorder=\"0\"\n                allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n                allowFullScreen\n                title={post._id}\n              ></iframe>\n            )}\n            {userData._id === post.posterId && (\n              <div className=\"button-container\">\n                <div onClick={() => setIsUpdated(!isUpdated)}>\n                  <img src=\"./img/icons/edit.svg\" alt=\"edit\" />\n                </div>\n                <DeleteCard id={post._id} />\n              </div>\n            )}\n            <div className=\"card-footer\">\n              <div className=\"comment-icon\">\n                <img\n                  onClick={() => setShowComments(!showComments)}\n                  src=\"./img/icons/message1.svg\"\n                  alt=\"comment\"\n                />\n                <span>{post.comments.length}</span>\n              </div>\n              <LikeButton post={post} />\n              <img src=\"./img/icons/share.svg\" alt=\"share\" />\n            </div>\n            {showComments && <CardComments post={post} />}\n          </div>\n        </>\n      )}\n    </li>\n  );\n};\n\nexport default Card;\n","import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getPosts } from \"../actions/post.actions\";\nimport Card from \"./Post/Card\";\nimport { isEmpty } from \"./Utils\";\n\nconst Thread = () => {\n  const [loadPost, setLoadPost] = useState(true);\n  const [count, setCount] = useState(5);\n  const dispatch = useDispatch();\n  const posts = useSelector((state) => state.postReducer);\n\n  const loadMore = () => {\n    if (window.innerHeight + document.documentElement.scrollTop + 1 > document.scrollingElement.scrollHeight) {\n      setLoadPost(true);\n    }\n  }\n\n  useEffect(() => {\n    if (loadPost) {\n      dispatch(getPosts(count));\n      setLoadPost(false);\n      setCount(count + 5);\n    }\n\n    window.addEventListener('scroll', loadMore);\n    return () => window.removeEventListener('scroll', loadMore);\n  }, [loadPost, dispatch, count]);\n\n  return (\n    <div className=\"thread-container\">\n      <ul>\n        {!isEmpty(posts[0]) &&\n          posts.map((post) => {\n            return <Card post={post} key={post._id} />;\n          })}\n      </ul>\n    </div>\n  );\n};\n\nexport default Thread;\n","import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nconst SignInForm = () => {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n\r\n\r\n  const handleLogin = (e) => {\r\n    console.log({ email, password })\r\n    e.preventDefault();\r\n    const emailError = document.querySelector(\".email.error\");\r\n    const passwordError = document.querySelector(\".password.error\");\r\n\r\n    axios({\r\n      method: \"post\",\r\n      url: `${process.env.REACT_APP_API_URL}api/user/login`,\r\n      data: {\r\n        email,\r\n        password,\r\n      },\r\n    })\r\n      .then((res) => {\r\n        if (res.data.errors) {\r\n          emailError.innerHTML = res.data.errors.email;\r\n          passwordError.innerHTML = res.data.errors.password;\r\n        } else {\r\n          localStorage.setItem(\"jwt\", res.data.token)\r\n          window.location = \"/my-social-network\";\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n\r\n  return (\r\n    <form action=\"\" onSubmit={handleLogin} id=\"sign-up-form\">\r\n      <label htmlFor=\"email\">Email</label>\r\n      <br />\r\n      <input\r\n        type=\"text\"\r\n        name=\"email\"\r\n        id=\"email\"\r\n        onChange={(e) => setEmail(e.target.value)}\r\n        value={email}\r\n      />\r\n      <div className=\"email error\"></div>\r\n      <br />\r\n      <label htmlFor=\"password\">Mot de passe</label>\r\n      <br />\r\n      <input\r\n        type=\"password\"\r\n        name=\"password\"\r\n        id=\"password\"\r\n        onChange={(e) => setPassword(e.target.value)}\r\n        value={password}\r\n      />\r\n      <div className=\"password error\"></div>\r\n      <br />\r\n      <input type=\"submit\" value=\"Se connecter\" />\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default SignInForm;\r\n","import React, { useState } from \"react\";\nimport axios from \"axios\";\nimport SignInForm from \"./SignInForm\";\n\nconst SignUpForm = () => {\n  const [formSubmit, setFormSubmit] = useState(false);\n  const [pseudo, setPseudo] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [controlPassword, setControlPassword] = useState(\"\");\n\n  const handleRegister = async (e) => {\n    e.preventDefault();\n    const terms = document.getElementById(\"terms\");\n    const pseudoError = document.querySelector(\".pseudo.error\");\n    const emailError = document.querySelector(\".email.error\");\n    const passwordError = document.querySelector(\".password.error\");\n    const passwordConfirmError = document.querySelector(\n      \".password-confirm.error\"\n    );\n    const termsError = document.querySelector(\".terms.error\");\n\n    passwordConfirmError.innerHTML = \"\";\n    termsError.innerHTML = \"\";\n\n    if (password !== controlPassword || !terms.checked) {\n      if (password !== controlPassword)\n        passwordConfirmError.innerHTML =\n          \"Les mots de passe ne correspondent pas\";\n\n      if (!terms.checked)\n        termsError.innerHTML = \"Veuillez valider les conditions générales\";\n    } else {\n      await axios({\n        method: \"post\",\n        url: `${process.env.REACT_APP_API_URL}api/user/register`,\n        data: {\n          pseudo,\n          email,\n          password,\n        },\n      })\n        .then((res) => {\n          if (res.data.errors) {\n            pseudoError.innerHTML = res.data.errors.pseudo;\n            emailError.innerHTML = res.data.errors.email;\n            passwordError.innerHTML = res.data.errors.password;\n          } else {\n            setFormSubmit(true);\n          }\n        })\n        .catch((err) => console.log(err));\n    }\n  };\n\n  return (\n    <>\n      {formSubmit ? (\n        <>\n          <SignInForm />\n          <span></span>\n          <h4 className=\"success\">\n            Enregistrement réussi, veuillez-vous connecter\n          </h4>\n        </>\n      ) : (\n        <form action=\"\" onSubmit={handleRegister} id=\"sign-up-form\">\n          <label htmlFor=\"pseudo\">Pseudo</label>\n          <br />\n          <input\n            type=\"text\"\n            name=\"pseudo\"\n            id=\"pseudo\"\n            onChange={(e) => setPseudo(e.target.value)}\n            value={pseudo}\n          />\n          <div className=\"pseudo error\"></div>\n          <br />\n          <label htmlFor=\"email\">Email</label>\n          <br />\n          <input\n            type=\"text\"\n            name=\"email\"\n            id=\"email\"\n            onChange={(e) => setEmail(e.target.value)}\n            value={email}\n          />\n          <div className=\"email error\"></div>\n          <br />\n          <label htmlFor=\"password\">Mot de passe</label>\n          <br />\n          <input\n            type=\"password\"\n            name=\"password\"\n            id=\"password\"\n            onChange={(e) => setPassword(e.target.value)}\n            value={password}\n          />\n          <div className=\"password error\"></div>\n          <br />\n          <label htmlFor=\"password-conf\">Confirmer mot de passe</label>\n          <br/>\n          <input\n            type=\"password\"\n            name=\"password\"\n            id=\"password-conf\"\n            onChange={(e) => setControlPassword(e.target.value)}\n            value={controlPassword}\n          />\n          <div className=\"password-confirm error\"></div>\n          <br />\n          <input type=\"checkbox\" id=\"terms\" />\n          <label htmlFor=\"terms\">\n            J'accepte les{\" \"}\n            <a href=\"/\" target=\"_blank\" rel=\"noopener noreferrer\">\n              conditions générales\n            </a>\n          </label>\n          <div className=\"terms error\"></div>\n          <br />\n          <input type=\"submit\" value=\"Valider inscription\" />\n        </form>\n      )}\n    </>\n  );\n};\n\nexport default SignUpForm;\n","import React, { useState } from \"react\";\nimport SignInForm from \"./SignInForm\";\nimport SignUpForm from \"./SignUpForm\";\n\nconst Log = ( props ) => {\n  const [signUpModal, setSignUpModal] = useState(props.signup);\n  const [signInModal, setSignInModal] = useState(props.signin);\n\n  const handleModals = (e) => {\n    if (e.target.id === \"register\") {\n      setSignInModal(false);\n      setSignUpModal(true);\n    } else if (e.target.id === \"login\") {\n      setSignUpModal(false);\n      setSignInModal(true);\n    }\n  };\n\n  return (\n    <div className=\"connection-form\">\n      <div className=\"form-container\">\n        <ul>\n          <li\n            onClick={handleModals}\n            id=\"register\"\n            className={signUpModal ? \"active-btn\" : null}\n          >\n            S'inscrire\n          </li>\n          <li\n            onClick={handleModals}\n            id=\"login\"\n            className={signInModal ? \"active-btn\" : null}\n          >\n            Se connecter\n          </li>\n        </ul>\n        {signUpModal && <SignUpForm />}\n        {signInModal && <SignInForm />}\n      </div>\n    </div>\n  );\n};\n\nexport default Log;\n","import React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getTrends } from \"../actions/post.actions\";\nimport { isEmpty } from \"./Utils\";\nimport { NavLink } from \"react-router-dom\";\n\nconst Trends = () => {\n  const posts = useSelector((state) => state.allPostsReducer);\n  const usersData = useSelector((state) => state.usersReducer);\n  const trendList = useSelector((state) => state.trendingReducer);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (!isEmpty(posts[0])) {\n      const postsArr = Object.keys(posts).map((i) => posts[i]);\n      let sortedArray = postsArr.sort((a, b) => {\n        return b.likers.length - a.likers.length;\n      });\n      sortedArray.length = 3;\n      dispatch(getTrends(sortedArray));\n    }\n  }, [posts, dispatch]);\n\n  return (\n    <div className=\"trending-container\">\n      <h4>Trending</h4>\n      <NavLink exact to=\"/trending\">\n        <ul>\n          {trendList.length &&\n            trendList.map((post) => {\n              return (\n                <li key={post._id}>\n                  <div>\n                    {post.picture && <img src={post.picture} alt=\"post-pic\" />}\n                    {post.video && (\n                      <iframe\n                        src={post.video}\n                        frameBorder=\"0\"\n                        allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n                        allowFullScreen\n                        title={post._id}\n                      ></iframe>\n                    )}\n                    {isEmpty(post.picture) && isEmpty(post.video) && (\n                      <img src={usersData[0] && usersData.map((user) => {\n                        if (user._id === post.posterId) {\n                          return user.picture;\n                        } else return null;\n                      })\n                      .join(\"\")\n                    } alt=\"profil-pic\"/>\n                    )}\n                  </div>\n                  <div className=\"trend-content\">\n                    <p>{post.message}</p>\n                    <span>Lire</span>\n                  </div>\n                </li>\n              );\n            })}\n        </ul>\n      </NavLink>\n    </div>\n  );\n};\n\nexport default Trends;\n","import React, { useEffect, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { isEmpty } from \"../Utils\";\nimport FollowHandler from \"./FollowHandler\";\n\nconst FriendsHint = () => {\n  const [isLoading, setIsLoading] = useState(true);\n  const [playOnce, setPlayOnce] = useState(true);\n  const [friendsHint, setFriendsHint] = useState([]);\n  const userData = useSelector((state) => state.userReducer);\n  const usersData = useSelector((state) => state.usersReducer);\n\n  useEffect(() => {\n    const notFriendList = () => {\n      let array = [];\n      usersData.map((user) => {\n        if (user._id !== userData._id && !user.followers.includes(userData._id))\n          return array.push(user._id);\n      });\n      array.sort(() => 0.5 - Math.random());\n      if (window.innerHeight > 780) {\n        array.length = 5;\n      } else if (window.innerHeight > 720) {\n        array.length = 4;\n      } else if (window.innerHeight > 615) {\n        array.length = 3;\n      } else if (window.innerHeight > 540) {\n        array.length = 1;\n      } else {\n        array.length = 0;\n      }\n      setFriendsHint(array);\n    };\n\n    if (playOnce && !isEmpty(usersData[0]) && !isEmpty(userData._id)) {\n      notFriendList();\n      setIsLoading(false);\n      setPlayOnce(false);\n    }\n  }, [usersData, userData, playOnce]);\n\n  return (\n    <div className=\"get-friends-container\">\n      <h4>Suggestions</h4>\n      {isLoading ? (\n        <div className=\"icon\">\n          <i className=\"fas fa-spinner fa-pulse\"></i>\n        </div>\n      ) : (\n        <ul>\n          {friendsHint &&\n            friendsHint.map((user) => {\n              for (let i = 0; i < usersData.length; i++) {\n                if (user === usersData[i]._id) {\n                  return (\n                    <li className=\"user-hint\" key={user}>\n                      <img src={usersData[i].picture} alt=\"user-pic\" />\n                      <p>{usersData[i].pseudo}</p>\n                      <FollowHandler\n                        idToFollow={usersData[i]._id}\n                        type={\"suggestion\"}\n                      />\n                    </li>\n                  );\n                }\n              }\n            })}\n        </ul>\n      )}\n    </div>\n  );\n};\n\nexport default FriendsHint;\n","import React, { useContext } from \"react\";\nimport { UidContext } from \"../components/AppContext\";\nimport LeftNav from \"../components/LeftNav\";\nimport NewPostForm from \"../components/Post/NewPostForm\";\nimport Thread from \"../components/Thread\";\nimport Log from \"../components/Log\";\nimport Trends from \"../components/Trends\";\nimport FriendsHint from \"../components/Profil/FriendsHint\";\n\nconst Home = () => {\n  const uid = useContext(UidContext);\n\n  return (\n    <div className=\"home\">\n      <LeftNav />\n      <div className=\"main\">\n        <div className=\"home-header\">\n        {uid ? <NewPostForm /> : <Log signin={true} signup={false} />}\n        </div>\n        <Thread />\n      </div>\n      <div className=\"right-side\">\n        <div className=\"right-side-container\">\n          <div className=\"wrapper\">\n            <Trends />\n            {uid && <FriendsHint />}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Home;\n","import React, { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { uploadPicture } from \"../../actions/user.actions\";\n\nconst UploadImg = () => {\n  const [file, setFile] = useState();\n  const dispatch = useDispatch();\n  const userData = useSelector((state) => state.userReducer);\n\n  const handlePicture = (e) => {\n    e.preventDefault();\n    const data = new FormData();\n    data.append(\"name\", userData.pseudo);\n    data.append(\"userId\", userData._id);\n    data.append(\"file\", file);\n\n    dispatch(uploadPicture(data, userData._id));\n  };\n\n  return (\n    <form action=\"\" onSubmit={handlePicture} className=\"upload-pic\">\n      <label htmlFor=\"file\">Changer d'image</label>\n      <input\n        type=\"file\"\n        id=\"file\"\n        name=\"file\"\n        accept=\".jpg, .jpeg, .png\"\n        // onChange={(e) => setFile(e.target.files[0])}\n      />\n      <br/>\n      <input type=\"submit\" value=\"Envoyer\" />\n    </form>\n  );\n};\n\nexport default UploadImg;\n","import React, { useState } from \"react\";\nimport LeftNav from \"../LeftNav\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport UploadImg from \"./UploadImg\";\nimport { updateBio } from \"../../actions/user.actions\";\nimport { dateParser } from \"../Utils\";\nimport FollowHandler from \"./FollowHandler\";\n\nconst UpdateProfil = () => {\n  const [bio, setBio] = useState(\"\");\n  const [updateForm, setUpdateForm] = useState(false);\n  const userData = useSelector((state) => state.userReducer);\n  const usersData = useSelector((state) => state.usersReducer);\n  const error = useSelector((state) => state.errorReducer.userError);\n  const dispatch = useDispatch();\n  const [followingPopup, setFollowingPopup] = useState(false);\n  const [followersPopup, setFollowersPopup] = useState(false);\n\n  const handleUpdate = () => {\n    dispatch(updateBio(userData._id, bio));\n    setUpdateForm(false);\n  };\n\n  return (\n    <div className=\"profil-container\">\n      <LeftNav />\n      <h1> Profil de {userData.pseudo}</h1>\n      <div className=\"update-container\">\n        <div className=\"left-part\">\n          <h3>Photo de profil</h3>\n          <img src={userData.picture} alt=\"user-pic\" />\n          <UploadImg />\n          <p>{error.maxSize}</p>\n          <p>{error.format}</p>\n        </div>\n        <div className=\"right-part\">\n          <div className=\"bio-update\">\n            <h3>Bio</h3>\n            {updateForm === false && (\n              <>\n                <p onClick={() => setUpdateForm(!updateForm)}>{userData.bio}</p>\n                <button onClick={() => setUpdateForm(!updateForm)}>\n                  Modifier bio\n                </button>\n              </>\n            )}\n            {updateForm && (\n              <>\n                <textarea\n                  type=\"text\"\n                  defaultValue={userData.bio}\n                  onChange={(e) => setBio(e.target.value)}\n                ></textarea>\n                <button onClick={handleUpdate}>Valider modifications</button>\n              </>\n            )}\n          </div>\n          <h4>Membre depuis le : {dateParser(userData.createdAt)}</h4>\n          <h5 onClick={() => setFollowingPopup(true)}>\n            Abonnements : {userData.following ? userData.following.length : \"\"}\n          </h5>\n          <h5 onClick={() => setFollowersPopup(true)}>\n            Abonnés : {userData.followers ? userData.followers.length : \"\"}\n          </h5>\n        </div>\n      </div>\n      {followingPopup && (\n        <div className=\"popup-profil-container\">\n          <div className=\"modal\">\n            <h3>Abonnements</h3>\n            <span className=\"cross\" onClick={() => setFollowingPopup(false)}>\n              &#10005;\n            </span>\n            <ul>\n              {usersData.map((user) => {\n                for (let i = 0; i < userData.following.length; i++) {\n                  if (user._id === userData.following[i]) {\n                    return (\n                      <li key={user._id}>\n                        <img src={user.picture} alt=\"user-pic\" />\n                        <h4>{user.pseudo}</h4>\n                        <div className=\"follow-handler\">\n                          <FollowHandler idToFollow={user._id} type={'suggestion'} />\n                        </div>\n                      </li>\n                    );\n                  } \n                }\n                return null;\n              })}\n            </ul>\n          </div>\n        </div>\n      )}\n      {followersPopup && (\n        <div className=\"popup-profil-container\">\n          <div className=\"modal\">\n            <h3>Abonnés</h3>\n            <span className=\"cross\" onClick={() => setFollowersPopup(false)}>\n              &#10005;\n            </span>\n            <ul>\n              {usersData.map((user) => {\n                for (let i = 0; i < userData.followers.length; i++) {\n                  if (user._id === userData.followers[i]) {\n                    return (\n                      <li key={user._id}>\n                        <img src={user.picture} alt=\"user-pic\" />\n                        <h4>{user.pseudo}</h4>\n                        <div className=\"follow-handler\">\n                          <FollowHandler idToFollow={user._id} type={'suggestion'} />\n                        </div>\n                      </li>\n                    );\n                  }\n                }\n                return null;\n              })}\n            </ul>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default UpdateProfil;\n","import React, { useContext } from \"react\";\nimport Log from \"../components/Log\";\nimport { UidContext } from \"../components/AppContext\";\nimport UpdateProfil from \"../components/Profil/UpdateProfil\";\n\nconst Profil = () => {\n  const uid = useContext(UidContext);\n\n  return (\n    <div className=\"profil-page\">\n      {uid ? (\n        <UpdateProfil />\n      ) : (\n        <div className=\"log-container\">\n          <Log signin={false} signup={true} />\n          <div className=\"img-container\">\n            <img src=\"./img/log.svg\" alt=\"img-log\" />\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Profil;\n","import React, { useContext } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { UidContext } from \"../components/AppContext\";\nimport LeftNav from '../components/LeftNav';\nimport { isEmpty } from \"../components/Utils\";\nimport Card from \"../components/Post/Card\";\nimport Trends from \"../components/Trends\";\nimport FriendsHint from \"../components/Profil/FriendsHint\";\n\nconst Trending = () => {\n  const uid = useContext(UidContext);\n  const trendList = useSelector((state) => state.trendingReducer);\n\n  return <div className=\"trending-page\">\n    <LeftNav />\n    <div className=\"main\">\n      <ul>\n        {!isEmpty(trendList[0]) && trendList.map((post) => <Card post={post} key={post._id} />)}\n      </ul>\n    </div>\n    <div className=\"right-side\">\n      <div className=\"right-side-container\">\n        <Trends />\n        {uid && <FriendsHint />}\n      </div>\n    </div>\n  </div>;\n};\n\nexport default Trending;\n","import React from \"react\";\n\nconst Logout = () => {\n  const logout = () => {\n    localStorage.removeItem(\"jwt\")\n    window.location = \"/\"\n  };\n\n  return (\n    <li onClick={logout}>\n      <img src=\"./img/icons/logout.svg\" alt=\"logout\" />\n    </li>\n  );\n};\n\nexport default Logout;\n","import React, { useContext } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { NavLink } from \"react-router-dom\";\nimport { UidContext } from \"./AppContext\";\nimport Logout from \"./Log/Logout\";\n\nconst Navbar = () => {\n  const uid = useContext(UidContext);\n  const userData = useSelector((state) => state.userReducer);\n\n  return (\n    <nav>\n      <div className=\"nav-container\">\n        <div className=\"logo\">\n          <NavLink exact to=\"/\">\n            <div className=\"logo\">\n              <img src=\"./img/la-personne.png\" alt=\"icon\" />\n              <h3>Jason-Dev-Web</h3>\n            </div>\n          </NavLink>\n        </div>\n        {uid ? (\n          <ul>\n            <li></li>\n            <li className=\"welcome\">\n              <NavLink exact to=\"/profil\">\n                <h5>Bienvenue {userData.pseudo}</h5>\n              </NavLink>\n            </li>\n            <Logout />\n          </ul>\n        ) : (\n          <ul>\n            <li></li>\n            <li>\n              <NavLink exact to=\"/profil\">\n                <img src=\"./img/icons/login.svg\" alt=\"login\"/>\n              </NavLink>\n            </li>\n          </ul>\n        )}\n      </div>\n    </nav>\n  );\n};\n\nexport default Navbar;\n","import React from 'react';\nimport { Routes, Route} from \"react-router-dom\";\nimport Home from '../../pages/Home';\nimport Profil from '../../pages/Profil';\nimport Trending from '../../pages/Trending';\nimport Navbar from '../Navbar';\n\nconst index = () => {\n  return (\n    <div>\n      <div>\n      <Navbar />\n      <Routes>\n        <Route path=\"/\" element={<Home />} />\n        <Route path=\"/profil\" element={<Profil />} />\n        <Route path=\"/trending\" element={<Trending />} />\n      </Routes>\n      </div>\n    </div>\n  );\n};\n\nexport default index;","import React, { useEffect, useState } from \"react\";\nimport Routes from \"./components/Routes\";\nimport { UidContext } from \"./components/AppContext\";\nimport axios from \"axios\";\nimport { useDispatch } from \"react-redux\";\nimport { getUser } from \"./actions/user.actions\";\n\nconst App = () => {\n  const [uid, setUid] = useState(null);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    const fetchToken = async () => {\n      await axios({\n        method: \"get\",\n        url: `${process.env.REACT_APP_API_URL}jwtid`,\n        headers: {Cookies :localStorage.getItem(\"jwt\")}\n      })\n        .then((res) => {\n          setUid(res.data);\n        })\n        .catch((err) => console.log(\"No token\",err));\n    };\n    fetchToken();\n\n    if (uid) dispatch(getUser(uid));\n  }, [uid, dispatch]);\n\n  return (\n    <UidContext.Provider value={uid}>\n      <Routes />\n    </UidContext.Provider>\n  )\n}\n\nexport default App;\n","import {\n  FOLLOW_USER,\n  GET_USER,\n  UNFOLLOW_USER,\n  UPDATE_BIO,\n  UPLOAD_PICTURE,\n} from \"../actions/user.actions\";\n\nconst initialState = {};\n\nexport default function userReducer(state = initialState, action) {\n  switch (action.type) {\n    case GET_USER:\n      return action.payload;\n    case UPLOAD_PICTURE:\n      return {\n        ...state,\n        picture: action.payload,\n      };\n    case UPDATE_BIO:\n      return {\n        ...state,\n        bio: action.payload,\n      };\n    case FOLLOW_USER:\n      return {\n        ...state,\n        following: [action.payload.idToFollow, ...state.following],\n      };\n    case UNFOLLOW_USER:\n      return {\n        ...state,\n        following: state.following.filter(\n          (id) => id !== action.payload.idToUnfollow\n        ),\n      };\n    default:\n      return state;\n  }\n}\n","import axios from \"axios\";\n\nexport const GET_USERS = \"GET_USERS\";\n\nexport const getUsers = () => {\n  return (dispatch) => {\n    return axios\n      .get(`${process.env.REACT_APP_API_URL}api/user`)\n      .then((res) => {\n        dispatch({ type: GET_USERS, payload: res.data });\n      })\n      .catch((err) => console.log(err));\n  };\n};\n","import { GET_USERS } from \"../actions/users.actions\";\n\nconst initialState = {};\n\nexport default function usersReducer(state = initialState, action) {\n  switch (action.type) {\n    case GET_USERS:\n      return action.payload;\n    default:\n      return state;\n  }\n}\n","import {\n  DELETE_COMMENT,\n  DELETE_POST,\n  EDIT_COMMENT,\n  GET_POSTS,\n  LIKE_POST,\n  UNLIKE_POST,\n  UPDATE_POST,\n} from \"../actions/post.actions\";\n\nconst initialState = {};\n\nexport default function postReducer(state = initialState, action) {\n  switch (action.type) {\n    case GET_POSTS:\n      return action.payload;\n    case LIKE_POST:\n      return state.map((post) => {\n        if (post._id === action.payload.postId) {\n          return {\n            ...post,\n            likers: [action.payload.userId, ...post.likers],\n          };\n        }\n        return post;\n      });\n    case UNLIKE_POST:\n      return state.map((post) => {\n        if (post._id === action.payload.postId) {\n          return {\n            ...post,\n            likers: post.likers.filter((id) => id !== action.payload.userId),\n          };\n        }\n        return post;\n      });\n    case UPDATE_POST:\n      return state.map((post) => {\n        if (post._id === action.payload.postId) {\n          return {\n            ...post,\n            message: action.payload.message,\n          };\n        } else return post;\n      });\n    case DELETE_POST:\n      return state.filter((post) => post._id !== action.payload.postId);\n    case EDIT_COMMENT:\n      return state.map((post) => {\n        if (post._id === action.payload.postId) {\n          return {\n            ...post,\n            comments: post.comments.map((comment) => {\n              if (comment._id === action.payload.commentId) {\n                return {\n                  ...comment,\n                  text: action.payload.text,\n                };\n              } else {\n                return comment;\n              }\n            }),\n          };\n        } else return post;\n      });\n    case DELETE_COMMENT:\n      return state.map((post) => {\n        if (post._id === action.payload.postId) {\n          return {\n            ...post,\n            comments: post.comments.filter(\n              (comment) => comment._id !== action.payload.commentId\n            ),\n          };\n        } else return post;\n      });\n    default:\n      return state;\n  }\n}\n","import { GET_POST_ERRORS } from \"../actions/post.actions\";\nimport { GET_USER_ERRORS } from \"../actions/user.actions\";\n\nconst initialState = { userError: [], postError: []};\n\nexport default function errorReducer(state = initialState, action) {\n  switch (action.type) {\n    case GET_POST_ERRORS:\n      return {\n        postError: action.payload,\n        userError: []\n      }\n    case GET_USER_ERRORS:\n      return {\n        userError: action.payload,\n        postError: []\n      }\n    default: \n      return state;\n  }\n}","import { GET_ALL_POSTS } from \"../actions/post.actions\";\n\nconst initialState = {};\n\nexport default function allPostsReducer(state = initialState, action) {\n  switch (action.type) {\n    case GET_ALL_POSTS:\n      return action.payload\n    default: \n      return state;\n  }\n}","import { GET_TRENDS } from \"../actions/post.actions\";\n\nconst initialState = {};\n\nexport default function trendingReducer(state = initialState, action) {\n  switch (action.type) {\n    case GET_TRENDS:\n      return action.payload;\n    default:\n      return state;\n  }\n}\n","import { combineReducers } from 'redux';\nimport userReducer from './user.reducer';\nimport usersReducer from './users.reducer';\nimport postReducer from './post.reducer';\nimport errorReducer from './error.reducer';\nimport allPostsReducer from './allPosts.reducer';\nimport trendingReducer from './trending.reducer';\n\nexport default combineReducers({\n  userReducer,\n  usersReducer,\n  postReducer,\n  errorReducer,\n  allPostsReducer,\n  trendingReducer\n});","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport \"./styles/index.scss\";\nimport { Provider } from \"react-redux\";\nimport { applyMiddleware, createStore } from \"redux\";\nimport thunk from \"redux-thunk\";\nimport rootReducer from \"./reducers\";\nimport { getUsers } from \"./actions/users.actions\";\n// dev tools\nimport { composeWithDevTools } from \"redux-devtools-extension\";\nimport { getPosts } from \"./actions/post.actions\";\n\nconst store = createStore(\n  rootReducer,\n  composeWithDevTools(applyMiddleware(thunk))\n);\n\nstore.dispatch(getUsers());\nstore.dispatch(getPosts());\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter basename={process.env.PUBLIC_URL}>\n      <Provider store={store}>\n        <App />\n      </Provider>\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}